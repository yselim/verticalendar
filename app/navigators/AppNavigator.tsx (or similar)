import { FC } from "react"
import { ViewStyle } from "react-native"
import type { NativeStackScreenProps } from "@react-navigation/native-stack"

import { Screen } from "@/components/Screen"
import { Text } from "@/components/Text"

interface DayScreenParams {
  date: string
}

type DayScreenProps = NativeStackScreenProps<{ Day: DayScreenParams }, "Day">

export const DayScreen: FC<DayScreenProps> = function DayScreen({ route }) {
  const { date } = route.params

  const formattedDate = new Date(date).toLocaleDateString("en-US", {
    weekday: "long",
    year: "numeric",
    month: "long",
    day: "numeric",
  })

  return (
    <Screen preset="scroll" contentContainerStyle={$container}>
      <Text text={formattedDate} preset="heading" />
    </Screen>
  )
}

const $container: ViewStyle = {
  flex: 1,
  padding: 16,
}

// Navigation configuration
import { createNativeStackNavigator } from "@react-navigation/native-stack"
import { CalendarScreen } from "@/screens/CalendarScreen"

const Stack = createNativeStackNavigator()

export function AppNavigator() {
  return (
    <Stack.Navigator>
      <Stack.Screen name="Calendar" component={CalendarScreen} />
      <Stack.Screen name="Day" component={DayScreen} />
    </Stack.Navigator>
  )
}